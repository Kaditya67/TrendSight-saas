{% comment %} {% extends 'stocks/base.html' %} {% endcomment %}

{% block content %}
  <h1>All Blogs</h1>

  {% for blog in blogs %}
    <div class="blog-post">
      <h2><a href="{% url 'get_blog' slug=blog.slug %}">{{ blog.title }}</a></h2>
      {% if blog.thumbnail %}
        <img src="{{ blog.thumbnail.url }}" alt="{{ blog.title }}" style="max-width: 30%; height: auto;">
      {% endif %}
      <p>{{ blog.body|truncatewords:30 }}</p>  <!-- Display a preview of the body -->
      <p><strong>Published on:</strong> {{ blog.datetime|date:"F j, Y" }}</p>
    </div>
  {% empty %}
    <p>No blogs available.</p>
  {% endfor %}

  <!-- Pagination controls -->
  <div class="pagination">
    {% if blogs.has_previous %}
      <a href="?page=1">&laquo; First</a>
      <a href="?page={{ blogs.previous_page_number }}">Previous</a>
    {% endif %}

    <span>Page {{ blogs.number }} of {{ blogs.paginator.num_pages }}</span>

    {% if blogs.has_next %}
      <a href="?page={{ blogs.next_page_number }}">Next</a>
      <a href="?page={{ blogs.paginator.num_pages }}">Last &raquo;</a>
    {% endif %}
  </div>

{% endblock %}
